@charset 'utf-8';

@use 'shared';

// Base
// ========================================================================== //

*,
*:after,
*:before {
	box-sizing: border-box;
}

@-ms-viewport {
	width: device-width;
}

html {
	overflow-x: hidden;
	overflow-y: scroll;
}

body {
	// fix scrollbars
	// http://msdn.microsoft.com/en-us/library/ie/hh771902(v=vs.85).aspx
	-ms-overflow-style: scrollbar;

	margin: 0;
	padding: 0;

	text-rendering: optimizeLegibility;
	-webkit-font-smoothing: antialiased;
}

// Typography
// ========================================================================== //

body {
	font-family: Helvetica, Arial, Sans-Serif;
	line-height: 1.675;
}

h1,
.h1 {
	margin-bottom: 0;

	font-size: 2.5rem;

	& + p {
		margin-top: 0;
	}
}

h2,
.h2 {
	margin-bottom: 0;

	font-size: 2rem;

	& + p {
		margin-top: 0;
	}
}

h3,
.h3 {
	margin-bottom: 0;

	font-size: 1.5rem;

	& + p {
		margin-top: 0;
	}
}

.bold {
	font-weight: bold;
}

.italic {
	font-style: italic;
}

.mono {
	padding: 3px 8px;
	border-radius: 3px;

	font-family: monospace, sans-serif;

	background-color: shared.$gray;
}

.header {
	padding: 0 calc(shared.$gutter / 2);
	margin: 0 auto;
	max-width: 90rem;

	h1 {
		a {
			text-decoration: none;
		}
	}
}

.nav {
	padding: 1rem 0;

	border-top: 1px solid shared.$gray;
	border-bottom: 1px solid shared.$gray;


	&__list {
		display: flex;
		flex-direction: column;
		margin: 0;
		padding: 0;

		list-style: none;


		@media (min-width: 37.5rem) {
			flex-direction: row;
		}
	}

	&__item {
		@media (min-width: 37.5rem) {
			padding-right: 2rem;
		}

		&.is-active {
			font-weight: bold;
		}

		a {
			text-decoration: none;
		}
	}
}


.toc {
	min-width: 50%;
	display: inline-block;
	padding: 1rem;
	margin: 0 0 1.5rem;

	background-color: shared.$gray;
	border-radius: 3px;

	&__list {
		margin: 0;
		padding-left: 0;

		list-style: none;

		.toc__list {
			padding-left: 2rem;
		}
	}
}

.box {
	background: shared.$example-color-5;
}

/* Example grid markup - Only used to highlight functionality, do not use in production
   ========================================================================== */
.example-flex-grid {
	padding: 0 calc(shared.$gutter / 2);
	margin: 0 auto;
	max-width: 90rem;

	.chapter {
		margin-bottom: 2.75rem;

		border-top: 1px solid shared.$gray;
	}

	.cell {
		@extend %cell;

		// Colors for nested grid sections
		> .grid {
			> .cell {
				&:nth-child(1) {
					background: shared.$example-color-2;
				}

				&:nth-child(2) {
					background: shared.$example-color-3;
				}

				&:nth-child(3) {
					background: shared.$example-color-1;
				}

				&:nth-child(4) {
					background: shared.$example-color-4;
				}
			}
		}

		& + .cell {
			> .grid {
				>.cell {
					&:nth-child(1) {
						background: shared.$example-color-4;
					}

					&:nth-child(2) {
						background: shared.$example-color-1;
					}

					&:nth-child(3) {
						background: shared.$example-color-2;
					}

					&:nth-child(4) {
						background: shared.$example-color-3;
					}
				}
			}
		}
	}

	// Remove gutter indications from cells in collapsed grid
	.grid--collapsed,
	.is-collapsed {
		.cell,
		section {
			&:before,
			&:after {
				display: none;
			}
		}
	}

	// Remove gutter indications from specific cells
	.is-collapsed,
	.cell--collapsed {
		&:before,
		&:after {
			display: none;
		}
	}

	@each $breakpoint, $size in shared.$breakpoints {
		@media (min-width: $size) {
			.grid--#{$breakpoint}-collapsed {
				& > .cell {
					&:before,
					&:after {
						display: none;
					}
				}
			}

			.grid--#{$breakpoint}-expanded {
				& > .cell {
					&:before,
					&:after {
						display: block;
					}
				}
			}

			.cell--#{$breakpoint}-collapsed {
				&:before,
				&:after {
					display: none;
				}
			}

			.cell--#{$breakpoint}-expanded {
				&:before,
				&:after {
					display: block;
				}
			}
		}
	}
}

// PrismJS
pre[class*="language-"] {
	box-shadow: none  !important;
	border: 1px solid shared.$gray !important;

	&:before,
	&:after {
		display: none !important;
	}
}

pre.line-numbers[class*="language-"] code {
	padding-left: 2.8em !important;
}

.line-numbers .line-numbers-rows {
	width: 2em !important;
}

.prism-show-language-label {
	margin-top: 0.5rem !important;
}
